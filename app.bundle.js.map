{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app.js","webpack:///./src/back/config/dev.js","webpack:///./src/back/config/index.js","webpack:///./src/back/controller/project.js","webpack:///./src/back/controller/user.js","webpack:///./src/back/model/project.js","webpack:///./src/back/model/user.js","webpack:///./src/back/route/index.js","webpack:///./src/back/route/project.js","webpack:///./src/back/route/user.js","webpack:///./src/back/service/auth.js","webpack:///./src/back/service/query.js","webpack:///external \"bcryptjs\"","webpack:///external \"bluebird\"","webpack:///external \"body-parser\"","webpack:///external \"compression\"","webpack:///external \"cookie-session\"","webpack:///external \"cors\"","webpack:///external \"dotenv\"","webpack:///external \"express\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"jwt-decode\"","webpack:///external \"lodash\"","webpack:///external \"mongoose\"","webpack:///external \"multer\"","webpack:///external \"passport\"","webpack:///external \"passport-jwt\"","webpack:///external \"path\""],"names":["dotenv","config","mongoose","Promise","bluebird","connect","database","useCreateIndex","useNewUrlParser","connection","on","console","log","error","app","express","port","process","env","PORT","use","compression","level","cors","bodyParser","json","urlencoded","extended","cookieSession","maxAge","keys","secret","passport","initialize","session","auth","route","static","path","join","__dirname","get","req","res","sendFile","listen","result","require","default","getUser","projectId","params","query","Project","findById","populate","exec","err","returnQuery","user","listProject","find","limit","addProject","body","name","live","usedTool","usedSkill","introduction","wireframeFilter","_","filter","files","o","fieldname","sitemapFilter","wireframe","map","filename","sitemap","profile","jwtDecode","newProject","_id","save","viewProject","editProject","title","tags","description","_user","findByIdAndUpdate","deleteProject","findByIdAndDelete","registerUser","email","password","newUser","User","bcryptjs","hash","success","msg","debug","loginUser","findOne","userFound","compare","isMatch","token","jwt","sign","toJSON","expiresIn","id","admin","deleteUser","remove","projectSchema","Schema","type","String","required","Array","Types","ObjectId","ref","post","doc","model","$push","project","$pull","userSchema","unique","virtual","length","deleteMany","$in","router","Router","storage","multer","diskStorage","destination","file","cb","Date","now","originalname","upload","authenticate","any","put","delete","opts","jwtFromRequest","ExtractJwt","fromAuthHeaderAsBearerToken","secretOrKey","Strategy","jwtPayload","done"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app.js\");\n","import express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport cors from 'cors';\r\nimport path from 'path';\r\nimport compression from 'compression';\r\nimport passport from 'passport';\r\nimport cookieSession from 'cookie-session';\r\nimport bluebird from 'bluebird';\r\nimport mongoose from 'mongoose';\r\nimport dotenv from 'dotenv';\r\n\r\nimport config from './src/back/config';\r\nimport auth from './src/back/service/auth';\r\nimport route from './src/back/route';\r\n\r\ndotenv.config();\r\n\r\nmongoose.Promise = bluebird;\r\nmongoose.connect(config.database, {\r\n  useCreateIndex: true,\r\n  useNewUrlParser: true,\r\n});\r\nmongoose.connection.on('connected', () => {\r\n  console.log('Connected to database');\r\n});\r\nmongoose.connection.on('error', (error) => {\r\n  console.log(error);\r\n});\r\n\r\nconst app = express();\r\nconst port = process.env.PORT || 3000;\r\n\r\napp.use(compression({ level: 9 }));\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(cookieSession({\r\n  maxAge: 24 * 60 * 60 * 1000 * 12,\r\n  keys: [config.secret],\r\n}));\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\nauth(passport);\r\n\r\napp.use('/api', route);\r\n\r\napp.use(express.static(path.join(__dirname, 'public')));\r\n\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(__dirname, 'index.html'));\r\n});\r\napp.listen(port, () => {\r\n  console.log('Server Started');\r\n});\r\n","export default {\r\n  database: 'mongodb://localhost:27017/portfolio',\r\n  secret: 'Godisagirl2012',\r\n};\r\n","let result;\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  result = require('./prod');\r\n} else {\r\n  result = require('./dev');\r\n}\r\n\r\nexport default result.default;\r\n","import jwtDecode from 'jwt-decode';\r\nimport _ from 'lodash';\r\n\r\nimport returnQuery from '../service/query';\r\nimport Project from '../model/project';\r\n\r\nconst getUser = (req, res) => {\r\n  const {\r\n    projectId,\r\n  } = req.params;\r\n  const query = Project.findById(projectId).populate('user');\r\n  query.exec((err, result) => {\r\n    returnQuery(err, result.user, res);\r\n  });\r\n};\r\n\r\nconst listProject = (req, res) => {\r\n  const query = Project.find({}).limit(10);\r\n  query.exec((err, result) => {\r\n    returnQuery(err, result, res);\r\n  });\r\n};\r\n\r\nconst addProject = (req, res) => {\r\n  const {\r\n    name, live, usedTool, usedSkill, introduction, body,\r\n  } = req.body;\r\n\r\n  const wireframeFilter = _.filter(req.files, o => o.fieldname === 'wireframe');\r\n  const sitemapFilter = _.filter(req.files, o => o.fieldname === 'sitemap');\r\n  const wireframe = wireframeFilter.map(({ filename }) => filename);\r\n  const sitemap = sitemapFilter.map(({ filename }) => filename);\r\n\r\n  const profile = jwtDecode(req.get('Authorization'));\r\n  const newProject = new Project({\r\n    name,\r\n    live,\r\n    usedTool,\r\n    usedSkill,\r\n    wireframe,\r\n    sitemap,\r\n    introduction,\r\n    body,\r\n    user: profile._id,\r\n  });\r\n\r\n  newProject.save((err, result) => {\r\n    returnQuery(err, result, res);\r\n  });\r\n};\r\n\r\nconst viewProject = (req, res) => {\r\n  const {\r\n    projectId,\r\n  } = req.params;\r\n  const query = Project.findById(projectId);\r\n  query.exec((err, result) => {\r\n    returnQuery(err, result, res);\r\n  });\r\n};\r\n\r\nconst editProject = (req, res) => {\r\n  const {\r\n    projectId,\r\n  } = req.params;\r\n  const {\r\n    title, tags, description, _user,\r\n  } = req.body;\r\n  const query = Project.findByIdAndUpdate(projectId, {\r\n    title, tags, description, _user,\r\n  });\r\n  query.exec((err, result) => {\r\n    returnQuery(err, result, res);\r\n  });\r\n};\r\n\r\nconst deleteProject = (req, res) => {\r\n  const {\r\n    projectId,\r\n  } = req.params;\r\n  const query = Project.findByIdAndDelete(projectId);\r\n  query.exec((err, result) => {\r\n    returnQuery(err, result, res);\r\n  });\r\n};\r\n\r\nexport {\r\n  listProject,\r\n  addProject,\r\n  viewProject,\r\n  editProject,\r\n  deleteProject,\r\n  getUser,\r\n};\r\n","import jwt from 'jsonwebtoken';\r\nimport bcryptjs from 'bcryptjs';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nimport User from '../model/user';\r\nimport config from '../config';\r\nimport returnQuery from '../service/query';\r\n\r\nconst registerUser = (req, res) => {\r\n  const {\r\n    name, email, password,\r\n  } = req.body;\r\n  const newUser = new User({\r\n    name,\r\n    email,\r\n    password,\r\n  });\r\n  bcryptjs.hash(newUser.password, 10, (err, hash) => {\r\n    newUser.password = hash;\r\n    newUser.save((error) => {\r\n      if (error) {\r\n        res.json({ success: false, msg: 'Failed to create user', debug: err });\r\n      } else {\r\n        res.json({ success: true, msg: 'Created user' });\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst loginUser = (req, res) => {\r\n  const { email, password } = req.body;\r\n  User.findOne({ email }, (err, userFound) => {\r\n    if (err) throw err;\r\n    if (!userFound) {\r\n      return res.json({ success: false, msg: 'User not found' });\r\n    }\r\n    bcryptjs.compare(password, userFound.password, (err, isMatch) => {\r\n      if (err) throw err;\r\n      if (isMatch) {\r\n        const token = jwt.sign(userFound.toJSON(), config.secret, {\r\n          expiresIn: 604800,\r\n        });\r\n        res.json({\r\n          success: true,\r\n          msg: 'User found',\r\n          token: `Bearer ${token}`,\r\n          user: {\r\n            id: userFound._id,\r\n            name: userFound.name,\r\n            email: userFound.email,\r\n            admin: userFound.admin,\r\n          },\r\n        });\r\n      } else {\r\n        return res.json({ success: false, msg: 'Wrong password' });\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst deleteUser = (req, res) => {\r\n  const profile = jwtDecode(req.get('Authorization'));\r\n  User.findById(profile._id).exec((err, result) => {\r\n    result.remove();\r\n    returnQuery(err, result, res);\r\n  });\r\n};\r\n\r\nexport {\r\n  registerUser,\r\n  loginUser,\r\n  deleteUser,\r\n};\r\n","import mongoose from 'mongoose';\r\n\r\nconst projectSchema = mongoose.Schema({\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  live: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  usedTool: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  usedSkill: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  wireframe: {\r\n    type: Array,\r\n    required: true,\r\n  },\r\n  sitemap: {\r\n    type: Array,\r\n    required: true,\r\n  },\r\n  introduction: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  body: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  user: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'User',\r\n    required: true,\r\n  },\r\n});\r\n\r\nprojectSchema.post('save', (doc) => {\r\n  const User = mongoose.model('User');\r\n  User.findByIdAndUpdate(doc.user, { $push: { project: doc._id } }).exec();\r\n});\r\n\r\nprojectSchema.post('remove', (doc) => {\r\n  const User = mongoose.model('User');\r\n  User.findByIdAndUpdate(doc.user, { $pull: { project: doc._id } }).exec();\r\n});\r\n\r\nconst project = mongoose.model('Project', projectSchema);\r\nexport default project;\r\n","import mongoose from 'mongoose';\r\n\r\nconst userSchema = mongoose.Schema({\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n    unique: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  project: [{\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Project',\r\n  }],\r\n});\r\n\r\nuserSchema.virtual('projectCount').get(function () {\r\n  return this.project.length;\r\n});\r\n\r\nuserSchema.post('remove', (doc) => {\r\n  const Project = mongoose.model('Project');\r\n  Project.deleteMany({ _id: { $in: doc.project } }).exec();\r\n});\r\n\r\nconst user = mongoose.model('User', userSchema);\r\nexport default user;\r\n","import express from 'express';\r\n\r\nimport user from './user';\r\nimport project from './project';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.use('/user', user);\r\nrouter.use('/project', project);\r\n\r\nexport default router;\r\n","import express from 'express';\r\nimport passport from 'passport';\r\nimport multer from 'multer';\r\n\r\nimport {\r\n  listProject, addProject, viewProject, editProject, deleteProject, getUser,\r\n} from '../controller/project';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: (req, file, cb) => {\r\n    cb(null, 'public/img/');\r\n  },\r\n  filename: (req, file, cb) => {\r\n    cb(null, `-${Date.now()}${file.originalname}`);\r\n  },\r\n});\r\nconst upload = multer({ storage });\r\n\r\nconst router = express.Router();\r\n\r\nrouter.route('/')\r\n  .get(passport.authenticate('jwt', { session: false }), listProject)\r\n  .post(passport.authenticate('jwt', { session: false }), upload.any(), addProject);\r\n\r\nrouter.route('/:projectId')\r\n  .get(passport.authenticate('jwt', { session: false }), viewProject)\r\n  .put(passport.authenticate('jwt', { session: false }), editProject)\r\n  .delete(passport.authenticate('jwt', { session: false }), deleteProject);\r\n\r\nrouter.get('/:projectId/user', passport.authenticate('jwt', { session: false }), getUser);\r\nexport default router;\r\n","import express from 'express';\r\nimport passport from 'passport';\r\nimport { registerUser, loginUser, deleteUser } from '../controller/user';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/register', registerUser);\r\nrouter.post('/login', loginUser);\r\nrouter.delete('/', passport.authenticate('jwt', { session: false }), deleteUser);\r\n\r\nexport default router;\r\n","import { Strategy, ExtractJwt } from 'passport-jwt';\r\n\r\nimport User from '../model/user';\r\nimport config from '../config';\r\n\r\nexport default (passport) => {\r\n  const opts = {\r\n    jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\r\n    secretOrKey: config.secret,\r\n  };\r\n  passport.use(new Strategy(opts, (jwtPayload, done) => {\r\n    User.findById(jwtPayload._id, (err, user) => {\r\n      if (err) {\r\n        return done(err, false);\r\n      }\r\n      if (user) {\r\n        return done(null, user);\r\n      }\r\n      return done(null, false);\r\n    });\r\n  }));\r\n};\r\n","const returnQuery = (err, result, res) => {\r\n  if (err) {\r\n    res.json({ success: false, msg: 'Something wrong', debug: err });\r\n  } else {\r\n    res.json({ success: true, msg: result });\r\n  }\r\n};\r\nexport default returnQuery;\r\n","module.exports = require(\"bcryptjs\");","module.exports = require(\"bluebird\");","module.exports = require(\"body-parser\");","module.exports = require(\"compression\");","module.exports = require(\"cookie-session\");","module.exports = require(\"cors\");","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"jwt-decode\");","module.exports = require(\"lodash\");","module.exports = require(\"mongoose\");","module.exports = require(\"multer\");","module.exports = require(\"passport\");","module.exports = require(\"passport-jwt\");","module.exports = require(\"path\");"],"sourceRoot":""}